A man armed with two semiautomatic pistols killed 20 children at an elementary school Friday in a rampage that left 27 people dead and one injured in this suburban town before he took his own life, authorities said.

Police said the suspect, 20-year-old Adam Lanza, entered Sandy Hook Elementary School and began firing shortly after 9:30 a.m., concentrating on two classrooms. It was the second-worst campus shooting in U.S. history.

No motive was cited by authorities. State police said they found the body of someone who lived with the suspect at a house nearby. Mr. Lanza's mother was among the victims.

Diane Day, a therapist at the school, was sitting with the principal, a parent and other staff members for a meeting when she heard gunshots.

"At first we heard a bunch of kids scream, and then it was just quiet and all you could hear was the shooting," Ms. Day said.

Principal Dawn Hochsprung and the school psychologist leapt from their seats and ran out to help, Ms. Day said. "They didn't think twice about confronting or seeing what was going on," she said.

Without a lock to secure the door, a teacher at the meeting pressed her body against the door to hold it shut, Ms. Day said. That teacher was shot through the door in the leg and arm. "She was our hero," Ms. Day said.

Carrie Usher, a fourth-grade teacher, said she believed the principal turned on the campus loudspeaker system, which broadcast sounds of "screaming and crying" through the school to warn others. Ms. Hochsprung and the school psychologist, identified as Mary Sherlach, were reported to be among the victims.

Ms. Usher's class, meanwhile, was in the library and they hid in the closet.

"The gunfire was just unbelievable. It felt like it lasted for five minutes," the teacher said. "It wouldn't stop."

In the minutes after the shooting stopped, students were taken to a nearby firehouse that became the staging area for anxious parents who quickly streamed to the campus when the news broke. Many remained there until late Friday night, still awaiting word of their missing children, officials said.

Joe Wasik, whose daughter, Alexis, is a third-grader at the school, said his wife called a little after 10 a.m. after receiving a text from the town's automated alert system on her phone.

Checking his laptop, Mr. Wasik saw the report of a shooting and raced to the school.

"There were cars everywhere," he said, describing the crush of parents.

He found his daughter crying and "a nervous wreck," he said. Mr. Wasik said his daughter hid in a closet during the shooting.

"Evil visited this community today," Connecticut Gov. Dannel Malloy said Friday.

President Barack Obama, who was notified of the shooting around 10:30 a.m., gave a televised statement from the White House, as he mourned the slain children, who were ages 5 to 10.

"They had their entire lives ahead of them -- birthday, weddings, kids of their own," Mr. Obama said, pausing to wipe tears from his eyes.

The president said he was reacting as a parent of two daughters, describing the shooting as a "heinous crime," and promising to press for meaningful action to prevent similar attacks.

"We've endured too many of these tragedies in the past few years," he said.

Lt. J. Paul Vance, a spokesman for the Connecticut State Police, said officers didn't fire their weapons after arriving at the campus, but he couldn't say with certainty how the alleged gunman was killed.

Two handguns were recovered near the gunman's body: a Glock and a Sig Sauer. A federal law-enforcement official said a .223 Bushmaster rifle was found in the back of a vehicle at the school. Earlier Friday, a law-enforcement official incorrectly identified the suspected shooter as Mr. Lanza's 24-year-old brother, Ryan. Their parents, Peter J. Lanza and Nancy J. Lanza, divorced in 2009, court records show.

The suspected gunman was an honor-roll student at Newtown High School as a ninth-grader in 2007, according to the Danbury News Times website. Beth Israel, a neighbor of the Lanzas whose daughter went to elementary school with Adam, said she recalled him as a "socially awkward" teenager. "He was kind of a loner and shy," she said. "He didn't look you in the eye." His brother, Ryan, was also an honor student there, according to the honor-roll list on the newspaper's website.

The elder Mr. Lanza was taken into police custody Friday at his home in Hoboken, N.J., but wasn't considered a suspect, a law-enforcement official said.

Neighbors said the family maintained a quiet presence in the village where they lived in a yellow Colonial home with a swing set in the backyard.

Louis Belanger said he remembers Adam Lanza as a classmate in seventh grade, when the two were occasionally partners on some projects. Mr. Belanger described Mr. Lanza at the time as "quiet, shy, fond of wearing sweaters with hoods." Mr. Belanger, now 20 and living in Newtown, said he lost track of Mr. Lanza in high school.

Adam Lanza didn't appear in Newtown High School's 2010 yearbook; classmates said they had thought he had dropped out.

Sandy Hook Elementary has 575 students, from kindergarten through fourth grade. Families of possible victims have been assigned a personal liaison from the police force for support.

Late on Friday, state officials said they had identified all of the victims from the shooting but weren't going to release their names before Saturday.

School-safety experts said the massacre at Sandy Hook could be the worst mass shooting at a U.S. elementary or high school, exceeding the death toll at Colorado's Columbine High School in 1999, which left 15 dead, including the two students who waged the attack.

In 2007, 33 people including the gunman were shot and killed on the campus of Virginia Tech, a college in Blacksburg, Va.

Schools nationwide have increased security measures since the shooting at Columbine. Many have installed metal detectors, developed detailed crisis plans, implemented policies to keep doors locked and accessible only by buzzer, and put teachers and staff through training on how to recognize and deal with threats.

A letter sent to Sandy Hook parents earlier this year described a new security protocol at the school. Most visitors are required to show identification and ring a doorbell to gain entry to the school's front entrance, which is locked after 9:30 a.m.

"If our office staff does not recognize you," the letter said, "you will be required to show identification with a picture ID."