Before President Obama left the White House on Tuesday morning to fly to an event in Albany, several aides intercepted him in the Oval Office. Within minutes it was decided: the president would endorse same-sex marriage on Wednesday, completing a wrenching personal transformation on the issue.

As described by several aides, that quick decision and his subsequent announcement in a hastily scheduled network television interview were thrust on the White House by 48 hours of frenzied will-he-or-won't-he speculation after Vice President Joseph R. Biden Jr. all but forced the president's hand by embracing the idea of same-sex unions in a Sunday talk show interview.

Advisers say now that Mr. Obama had intended since early this year to define his position sometime before Democrats nominate him for re-election in September. Yet many of the president's allies believed he would not do so, trusting instead in his strong support from gay voters for having ended a ban on openly gay people in the military and disavowing a federal law defining marriage as between a man and a woman.

Such caution was understandable, the allies said, given the unpredictable fallout the president would face by taking a clear stand on one of the most contentious and politically charged social issues of the day, before what is likely to be a close election. Mr. Obama's closest advisers say only the timing was in question. Mr. Biden's unexpected remarks undoubtedly accelerated the timetable.

Initially Mr. Obama and his aides expected that the moment would be Monday, when the president was scheduled to be on "The View," the ABC daytime talk show, which is popular with women. Certainly, they thought, he would be asked his position on same-sex marriage by one of the show's hosts, who include Barbara Walters and Whoopi Goldberg.

Yet the pressure had become too great to wait until then, his aides told him; on Monday, the White House press secretary, Jay Carney, was pummeled with questions from skeptical reporters about Mr. Obama's stance. After the Tuesday morning meeting, Dan Pfeiffer, the president's communications director, contacted ABC and offered a wide-ranging interview with the president for the following day.

And so it was that Mr. Obama on Wednesday afternoon sat down in the White House with ABC's Robin Roberts and made news, after nearly two years of saying that his views on same-sex marriage were "evolving."

"At a certain point, I've just concluded that for me personally it is important for me to go ahead and affirm that I think same-sex couples should be able to get married," Mr. Obama said.

Long a proponent of civil unions, Mr. Obama said his views had changed in part because of prodding by friends who are gay and by conversations with his wife and daughters.

"I had hesitated on gay marriage in part because I thought that civil unions would be sufficient," Mr. Obama said. "I was sensitive to the fact that for a lot of people, the word marriage was something that invokes very powerful traditions and religious beliefs."

Mr. Obama also invoked his Christian faith in explaining his decision.

"The thing at root that we think about is, not only Christ sacrificing himself on our behalf, but it's also the golden rule -- you know, treat others the way you would want to be treated," he said. "And I think that's what we try to impart to our kids, and that's what motivates me as president."

Reaction to Mr. Obama's announcement was largely predictable -- including immediate opposition from his presumptive Republican rival, Mitt Romney -- yet people on both sides of the issue pointed to the historical significance of a president endorsing marriage between people of the same sex. It was a Democrat, Bill Clinton, who signed the Defense of Marriage Act, defining marriage as between a man and a woman, which the Obama administration last year decided not to enforce in the courts.

While Mr. Obama's announcement was significant from a symbolic standpoint, more important as a practical matter were Mr. Obama's decision not to enforce the marriage act and his successful push in 2010 to repeal the "don't ask, don't tell" law that prohibited openly gay men and lesbians from serving in the military. For that reason, gay rights groups had been largely enthusiastic about his re-election campaign while being pragmatically resigned to his not publicly supporting same-sex marriage before the election.

Mr. Obama's announcement has little substantive impact -- as an aide said, "It's not like we're trying to pass legislation."

But the political impact is a wild card, even Obama advisers acknowledged, and it came one day after voters in North Carolina -- the site of the Democratic Party's nominating convention -- supported a ban on same-sex marriage. But while the president has now injected a volatile social issue into the campaign debate, both sides say the election still is all but certain to turn on the economy.

Public support for same-sex marriage is growing at a pace that surprises even pollsters as older generations of voters who tend to be strongly opposed are supplanted by younger ones who are just as strongly in favor. Same-sex couples are featured in some of the most popular shows on television.

Yet opponents include white working-class voters, among whom Mr. Obama has long had weak support, and many African-Americans, led by influential ministers in their churches, whose support is critical to Mr. Obama in swing states like Virginia and North Carolina. Representative Barney Frank, Democrat of Massachusetts, one of the first openly gay members of Congress, said he told the White House months ago that it should not worry about the politics.

"This country is moving, and what's interesting is every time somebody does something that's supportive of our rights, it turns out to be (a) popular and (b) not very controversial," he said in a telephone interview.

Many Americans already assumed Mr. Obama supported same-sex marriage, Mr. Frank said, adding, "Politically, it's kind of a nonevent."

Obama strategists had rejected the idea of announcing the president's support during a fund-raiser or at a speech to a gay rights group, because, as one Democrat close to the White House put it, that would "look like pandering."

Then last Friday, Mr. Biden taped his interview for NBC's "Meet the Press," shown on Sunday morning. Afterward, Mr. Biden's aides circulated a transcript around the West Wing, with the gay marriage remarks highlighted in yellow. A flurry of e-mails ensued about how Mr. Biden's office should explain it once the interview was broadcast.

The news media attention escalated on Monday when Mr. Obama's education secretary, Arne Duncan, acknowledged in a television interview that he also supported same-sex marriage. Editorialists, columnists and bloggers criticized Mr. Obama as appearing calculating by his continued ambivalence.

An administration official, who like others did not want to be named discussing internal White House deliberations, said that until this week, the one certainty was for Mr. Obama to take his stand before September to avoid a convention fight. "It's not helpful to go down there and have a big conflagration about including this in the platform," the official said.

But several events loomed that would also force attention on the issue, leaving Mr. Obama vulnerable to continued criticism.

On Thursday, Mr. Obama is to visit the Los Angeles home of the actor George Clooney for a campaign fund-raiser expected to raise about $12 million, much of it from Hollywood people active in the gay rights cause.

Mr. Obama is scheduled to give the commencement address next week at Barnard College in New York City, where he will receive a medal along with Evan Wolfson, the founder and president of Freedom to Marry, a leading advocate for same-sex unions. Mr. Wolfson, who had written that he would "whisper in the president's ear" to support same-sex marriage, said in an interview on Wednesday, "I'm going to shout, 'Thank you!' "

Also on Monday, Mr. Obama is to speak at a campaign fund-raiser for gay rights supporters. And on June 6, he is to return to Los Angeles to speak at a gala benefiting the gay, bisexual and transgender community.